specVersion: 0.0.2
description: Rawrshak Network
repository: https://github.com/gcbsumid/B44
schema:
  file: ./schema.graphql
dataSources:
  - name: OVCToken
    kind: ethereum/contract
    network: mainnet
    source:
      address: "0x7E976e930f9615D14cb9801b2d2F58D429f29f4E"
      abi: OVCToken
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/token.ts
      entities:
        - Token
        - TokenEntity
        - Account
      abis:
        - name: OVCToken
          file: ./abis/OVCToken.json
      eventHandlers:
        - event: TokenCreated(address,bytes32,string,string,uint256)
          handler: handleTokenCreated
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
  - name: GameFactory
    kind: ethereum/contract
    network: mainnet
    source:
      address: "0xb973f7932b26580212Cbd7fA0Ba30E9A5506f56e"
      abi: GameFactory
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/game.ts
      entities:
        - Game
        - Account
      abis:
        - name: GameFactory
          file: ./abis/GameFactory.json
      eventHandlers:
        - event: GameContractCreated(uint256,address,address)
          handler: handleGameContractCreated
  - name: LootboxFactory
    kind: ethereum/contract
    network: mainnet
    source:
      address: "0xDD5Ce1971E44BD8A7DB4b5aBbd16002488509E85"
      abi: LootboxFactory
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/lootbox.ts
      entities:
        - Lootbox
        - Account
      abis:
        - name: LootboxFactory
          file: ./abis/LootboxFactory.json
      eventHandlers:
        - event: LootboxContractCreated(uint256,address,address)
          handler: handleLootboxContractCreated
  - name: Exchange
    kind: ethereum/contract
    network: mainnet
    source:
      address: "0xF872b5d78965a648AF3DE6320b71cb6774F690F6"
      abi: Exchange
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/exchange.ts
      entities:
        - Order
        - Account
        - Token
        - Item
      abis:
        - name: Exchange
          file: ./abis/Exchange.json
      eventHandlers:
        - event: OrderPlaced(address,address,uint256,uint256,uint256,bool,uint256)
          handler: handleOrderPlaced
        - event: OrderDeleted(address,uint256)
          handler: handleOrderDeleted
        - event: OrderFullfilled(uint256,address,address,uint256,uint256,uint256)
          handler: handleOrderFullfilled
        - event: Claimed(address,uint256)
          handler: handleClaimed
        - event: ClaimedAll(address,uint256[])
          handler: handleClaimedAll
templates:
  - name: Game
    kind: ethereum/contract
    network: mainnet
    source:
      abi: Game
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/game.ts
      entities:
        - Game
        - Item
        - ItemBalance
      abis:
        - name: Game
          file: ./abis/Game.json
      eventHandlers:
        - event: GameManagerSet(uint256,address)
          handler: handleGameManagerSet
        - event: ItemCreated(uint256,uint256,address,uint256)
          handler: handleItemCreated
        - event: ItemBatchCreated(uint256,uint256[],address,uint256[])
          handler: handleItemBatchCreated
        - event: ItemSupplyChanged(uint256,uint256,uint256)
          handler: handleItemSupplyChanged
        - event: ItemBatchSupplyChanged(uint256,uint256[],uint256[])
          handler: handleItemBatchSupplyChanged
        - event: TransferSingle(indexed address,indexed address,indexed address,uint256,uint256)
          handler: handleTransferSingle
        - event: TransferBatch(indexed address,indexed address,indexed address,uint256[],uint256[])
          handler: handleTransferBatch
  - name: GameManager
    kind: ethereum/contract
    network: mainnet
    source:
      abi: GameManager
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/game.ts
      entities:
        - Game
      abis:
        - name: GameManager
          file: ./abis/GameManager.json
  - name: Crafting
    kind: ethereum/contract
    network: mainnet
    source:
      abi: Crafting
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/crafting.ts
      entities:
        - RecipeEntry
        - Item
        - Token
        - Recipe
      abis:
        - name: Crafting
          file: ./abis/Crafting.json
      eventHandlers:
        - event: ItemCrafted(uint256,uint256,address)
          handler: handleItemCrafted
        - event: RecipeCreated(uint256,uint256)
          handler: handleRecipeCreated
        - event: RecipeMaterialsUpdated(uint256,uint256,uint256[],uint256[])
          handler: handleRecipeMaterialsUpdated
        - event: RecipeRewardsUpdated(uint256,uint256,uint256[],uint256[])
          handler: handleRecipeRewardsUpdated
        - event: RecipeActiveSet(uint256,uint256,bool)
          handler: handleRecipeActiveSet
        - event: RecipeCostUpdated(uint256,uint256,address,uint256)
          handler: handleRecipeCostUpdated   
  - name: Lootbox
    kind: ethereum/contract
    network: mainnet
    source:
      abi: Lootbox
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/lootbox.ts
      entities:
        - Lootbox
        - Item
        - Token
        - LootboxMaterial
        - LootboxReward
        - LootboxEntry
        - Account
      abis:
        - name: Lootbox
          file: ./abis/Lootbox.json
      eventHandlers:
        - event: InputItemBatchRegistered(uint256,uint256[],uint256[],uint256[])
          handler: handleInputItemBatchRegistered
        - event: RewardItemBatchRegistered(uint256,uint256[],uint8[],uint256[])
          handler: handleRewardItemBatchRegistered
        - event: TradeMinimumSet(uint256,uint256)
          handler: handleTradeMinimumSet
        - event: LootboxGenerated(uint256,address,uint256)
          handler: handleLootboxGenerated
        - event: LootboxOpened(uint256,address,uint256,uint256[])
          handler: handleLootboxOpened
        - event: TransferSingle(indexed address,indexed address,indexed address,uint256,uint256)
          handler: handleTransferSingle
        - event: TransferBatch(indexed address,indexed address,indexed address,uint256[],uint256[])
          handler: handleTransferBatch